(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,n,t){e.exports=t(34)},33:function(e,n,t){},34:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),l=t(6),u=t(11),o=t.n(u),i=t(8),s="CHANGE_VP_CHIPS",c="TOGGLE_BUILDING_BUILT",p="TOGGLE_BUILDING_HAS_WORKER",m="SET_BONUS_INPUT",d="ADD",h="SUBTRACT",b="VIOLET",g={vpChips:0,buildings:[{name:"Small Indigo Plant",type:"PRODUCTION_SMALL",points:1,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Small Sugar Mill",type:"PRODUCTION_SMALL",points:1,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Small Market",type:b,points:1,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Hacienda",type:b,points:1,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Construction Hut",type:b,points:1,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Small Warehouse",type:b,points:1,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Indigo Plant",type:"PRODUCTION_LARGE",points:2,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Sugar Mill",type:"PRODUCTION_LARGE",points:2,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Hospice",type:b,points:2,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Office",type:b,points:2,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Large Market",type:b,points:2,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Large Warehouse",type:b,points:2,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Tobacco Storage",type:"PRODUCTION_LARGE",points:3,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Coffee Roaster",type:"PRODUCTION_LARGE",points:3,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Factory",type:b,points:3,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"University",type:b,points:3,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Harbor",type:b,points:3,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Wharf",type:b,points:3,isBuilt:!1,hasWorker:null,bonusInput:null},{name:"Guild Hall",type:b,points:4,isBuilt:!1,hasWorker:!1,bonusInput:null},{name:"Customs House",type:b,points:4,isBuilt:!1,hasWorker:!1,bonusInput:null},{name:"Residence",type:b,points:4,isBuilt:!1,hasWorker:!1,bonusInput:{inputId:"islandSpaces",value:"",labelText:"Total occupied island spaces",inputPlaceholder:"Island spaces"}},{name:"City Hall",type:b,points:4,isBuilt:!1,hasWorker:!1,bonusInput:null},{name:"Fortress",type:b,points:4,isBuilt:!1,hasWorker:!1,bonusInput:{inputId:"totalWorkers",value:"",labelText:"Total number of workers",inputPlaceholder:"Total workers"}}]};var f=Object(i.b)({vpChips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.vpChips,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s:switch(n.direction){case d:return e+n.amount;case h:var t=e-n.amount;return t>0?t:0;default:return e}default:return e}},buildings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.buildings,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case c:return e.map(function(e){return e.name===n.buildingName?Object.assign({},e,{isBuilt:!e.isBuilt}):e});case p:return e.map(function(e){return e.name===n.buildingName?Object.assign({},e,{hasWorker:!e.hasWorker}):e});case m:return e.map(function(e){return e.name===n.buildingName?Object.assign({},e,{bonusInput:Object.assign({},e.bonusInput,{value:n.inputValue})}):e});default:return e}}});t(32),t(33);var E=t(36),v=t(37),I=t(38),k=function(){return r.a.createElement("div",{className:"text-center bordered-round"},r.a.createElement("h4",null,"Puerto Rico Scoresheet"),r.a.createElement("p",{className:"lead text-muted"},"Helping you figure out how badly you lost since 2018"))},C=function(e){var n=e.titleText,t=e.isScoreLarge,a=e.scoreValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-muted"},n),r.a.createElement("div",null,t?r.a.createElement("h2",null,a):r.a.createElement("h4",null,a)))},N=t(0),y=t.n(N);var B=t(35),T=function(e){var n=e.buttonText,t=e.idValue,a=e.onButtonClick;return r.a.createElement(B.a,{onClick:a,href:"#",id:t},n)},O=Object(l.b)(function(e,n){return{buttonText:n.buttonText,idValue:n.idValue}},function(e,n){return{onButtonClick:function(){var t,a;e((t=n.direction,a=n.amount,{type:s,direction:t,amount:a}))}}})(T);O.propTypes={buttonText:y.a.string.isRequired,idValue:y.a.string.isRequired,direction:y.a.string.isRequired,amount:y.a.number.isRequired};var W=O,x=function(e){var n=e.vpChips,t=e.buildingsScore,a=e.bonusScore,l=e.totalScore;return r.a.createElement(E.a,null,r.a.createElement(v.a,null,r.a.createElement(I.a,null,r.a.createElement("div",{className:"text-center bordered-round"},r.a.createElement(C,{titleText:"Total Points",scoreValue:l,isScoreLarge:!0})))),r.a.createElement(v.a,null,r.a.createElement(I.a,{className:"px-1"},r.a.createElement("div",{className:"text-center bordered-round"},r.a.createElement(v.a,null,r.a.createElement(I.a,{className:"px-1 text-right"},r.a.createElement(W,{buttonText:"+",idValue:"increment",direction:d,amount:1})),r.a.createElement(I.a,{xs:"auto",className:"px-1"},r.a.createElement(C,{titleText:"Chips",scoreValue:n,isScoreLarge:!1})),r.a.createElement(I.a,{className:"px-1 text-left"},r.a.createElement(W,{buttonText:"-",idValue:"decrement",direction:h,amount:1}))))),r.a.createElement(I.a,{className:"px-1"},r.a.createElement("div",{className:"text-center bordered-round"},r.a.createElement(C,{titleText:"Buildings",scoreValue:t,isScoreLarge:!1}))),r.a.createElement(I.a,{className:"px-1"},r.a.createElement("div",{className:"text-center bordered-round"},r.a.createElement(C,{titleText:"Bonuses",scoreValue:a,isScoreLarge:!1})))))},L=function(e,n,t){var a=n.PRODUCTION_LARGE,r=n.PRODUCTION_SMALL,l=n.VIOLET;if(!e.hasWorker||!e.isBuilt)return 0;switch(e.name){case"Guild Hall":return r+2*a;case"Residence":return e.bonusInput.value<9?0:e.bonusInput.value>12?0:e.bonusInput.value-5;case"Fortress":return Math.floor(e.bonusInput.value/3);case"Customs House":return Math.floor(t/4);case"City Hall":return l;default:return 0}},w=function(e,n){return e.reduce(function(e,t){return t.type===n&&t.isBuilt?e+1:e},0)},S=Object(l.b)(function(e){var n=e.buildings.reduce(function(e,n){return n.isBuilt?e+n.points:e},0),t=function(e,n){var t={PRODUCTION_LARGE:w(e,"PRODUCTION_LARGE"),PRODUCTION_SMALL:w(e,"PRODUCTION_SMALL"),VIOLET:w(e,b)};return e.reduce(function(e,a){return e+L(a,t,n)},0)}(e.buildings,e.vpChips),a=e.vpChips+n+t;return{vpChips:e.vpChips,buildingsScore:n,bonusScore:t,totalScore:a}})(x),R=t(43),_=t(44),P=t(40),U=t(39),D=t(41),V=t(42),A=function(e){var n=e.name,t=e.inputId,a=e.value,l=e.labelText,u=e.inputPlaceholder,o=e.onBonusInputChange;return r.a.createElement(U.a,null,r.a.createElement("label",{htmlFor:t,className:"mx-1 sr-only"},l),r.a.createElement("input",{type:"text",id:t,placeholder:u,value:a,className:"form-control-sm",onChange:function(e){return o(n,function(e){var n=parseInt(e,10);return isNaN(n)?"":n}(e.target.value))},onClick:function(e){e.stopPropagation()}}))},G=function(e){var n,t=e.name,a=e.hasWorker,l=e.bonusInput,u=e.onWorkerChange,o=e.onBonusInputChange;return n=null!==l?r.a.createElement(A,{name:t,inputId:l.inputId,value:l.value,labelText:l.labelText,inputPlaceholder:l.inputPlaceholder,onBonusInputChange:o}):"",r.a.createElement("div",null,r.a.createElement("hr",{className:"my-1"}),r.a.createElement(P.a,{inline:!0,className:"justify-content-center"},r.a.createElement(U.a,{check:!0},r.a.createElement(D.a,{className:"mx-1",check:!0,onClick:function(e){return e.stopPropagation()}},r.a.createElement(V.a,{type:"checkbox",checked:a,onClick:function(e){return e.stopPropagation()},onChange:function(){return u(t)}})," \ud83d\udc77\ud83c\udffe ?")),n))},H=function(e){var n,t=e.name,a=e.isBuilt,l=e.hasWorker,u=e.bonusInput,o=e.onClick,i=e.onWorkerChange,s=e.onBonusInputChange,c=a?"bg-success":"bg-light";return n=null!==l?r.a.createElement(G,{name:t,hasWorker:l,bonusInput:u,onWorkerChange:i,onBonusInputChange:s}):"",r.a.createElement("div",{className:"".concat(c," text-center bordered-round"),onClick:o,id:t},t,n)},j=function(e){var n=e.buildingLevel,t=e.buildings,a=e.onBuildingClick,l=e.onWorkerChange,u=e.onBonusInputChange;return r.a.createElement(I.a,null,r.a.createElement(R.a,{className:"text-center"},r.a.createElement(_.a,null,n)),t.map(function(e){return r.a.createElement(H,Object.assign({key:e.name},e,{onClick:function(){return a(e.name)},onWorkerChange:l,onBonusInputChange:u}))}))},M=Object(l.b)(function(e,n){return{buildingLevel:n.columnNumber,buildings:(t=e.buildings,a=n.columnNumber,t.filter(function(e){return e.points===a}))};var t,a},function(e){return{onBuildingClick:function(n){e(function(e){return{type:c,buildingName:e}}(n))},onWorkerChange:function(n){e(function(e){return{type:p,buildingName:e}}(n))},onBonusInputChange:function(n,t){e(function(e,n){return{type:m,buildingName:e,inputValue:n}}(n,t))}}})(j),F=function(){return r.a.createElement(E.a,null,r.a.createElement(v.a,null,[1,2,3,4].map(function(e){return r.a.createElement(M,{key:e,columnNumber:e})})))},q=function(){return r.a.createElement("div",{className:"scoresheet"},r.a.createElement(E.a,{fluid:!0},r.a.createElement(v.a,null,r.a.createElement(I.a,null,r.a.createElement(k,null))),r.a.createElement(v.a,null,r.a.createElement(I.a,null,r.a.createElement(S,null))),r.a.createElement(v.a,null,r.a.createElement(I.a,null,r.a.createElement(F,null)))))},X=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var K=Object(i.c)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(l.a,{store:K},r.a.createElement(q,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/puerto-rico-scoresheet",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/puerto-rico-scoresheet","/service-worker.js");X?(function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):J(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):J(e)})}}()}},[[21,1,2]]]);
//# sourceMappingURL=main.adce1825.chunk.js.map